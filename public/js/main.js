(function() {    var url = "httP://localhost:8080/";    var username;    // url="http://run.plnkr.co/plunks/v8xyYN64V4nqCshgjKms/data-1.json?callback=?"    $('form#username').on('submit',function () {		username = $("#username1").val();	// debugger;	$.post( "/api/user",{name : username}, function( data ) {	    //$( ".result" ).html( data );	    console.log(data);	    $('.userform').hide();	    $('.chat').show();	    startSocket(data);	});	return false;    })    function startSocket(json) {	var url = "http://localhost:8080/";	var socket= io();	console.log(name + " name");	socket.emit("join",username);	$('form').submit(function () {	    socket.emit('chat message',$("#m").val());	    $('#m').val('');	    return false;	});		socket.on('chat message',function (who,msg) {	    console.log(msg+" msg");	    $('#messages').append($('<li>').text(who+":  "+msg));	})	socket.on('user connected',function(msg) {	    if(username !== msg){		$('#messages').append($('<li>').text(msg+" has connected"));	    }	});	socket.on('user disconnected',function (msg) {	    $('#messages').append($('<li>').text(msg+" disconnected"));	})	socket.on("update", function (msg){	    $('#messages').append($('<li>').text(msg+""));	});    }})();